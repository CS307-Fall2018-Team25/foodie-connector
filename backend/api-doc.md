# Foodie Connector API Doc

This doc is automatically generated by scripts.

## **authentication**

Everything about authentication

### **POST - /api/v1/auth/login**

Login

#### **Authorization**

Not required

#### **Params**

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |
| email | required | email |  |
| password | required | string |  |

#### **Status Code: 200**

Successful operation.

**URI**: /api/v1/auth/login

**Request Body:**
```
{
    "email": "user@foodie-connector.delivery",
    "password": "test123456"
}
```

**Response Body:**
```
{
    "api_token": "ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=",
    "user": {
        "id": 1,
        "name": "Test User",
        "email": "user@foodie-connector.delivery",
        "is_email_verified": false
    }
}
```
#### **Status Code: 401**

These credentials do not match our records.

**URI**: /api/v1/auth/login

**Request Body:**
```
{
    "email": "user@foodie-connector.delivery",
    "password": "wrong"
}
```

**Response Header:**
```
{
    "X-RateLimit-Limit": 5,
    "X-RateLimit-Remaining": 4
}
```

**Response Body:**
```
{
    "message": "These credentials do not match our records."
}
```
#### **Status Code: 422**

Validation failed.

**URI**: /api/v1/auth/login

**Request Body:**
```
{
    "email": "user@foodie-connector.delivery"
}
```

**Response Body:**
```
{
    "message": "Validation failed.",
    "data": {
        "password": [
            "The password field is required."
        ]
    }
}
```
#### **Status Code: 429**

Too many attempts

**URI**: /api/v1/auth/login

**Request Body:**
```
{
    "email": "user@foodie-connector.delivery",
    "password": "wrong"
}
```

**Response Header:**
```
{
    "X-RateLimit-Limit": 5,
    "X-RateLimit-Remaining": 0,
    "Retry-After": 600
}
```

**Response Body:**
```
{
    "message": "Too many attempts"
}
```

### **POST - /api/v1/auth/register**

Register for a new user

#### **Authorization**

Not required

#### **Params**

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |
| name | required | string | max:255 |
| email | required | email | max:255, unique:api_users |
| password | required | password |  |

#### **Status Code: 200**

Successful operation.

**URI**: /api/v1/auth/register

**Request Body:**
```
{
    "email": "user@foodie-connector.delivery",
    "password": "test123456",
    "name": "Test User"
}
```

**Response Body:**
```
{
    "api_token": "ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=",
    "user": {
        "id": 1,
        "name": "Test User",
        "email": "user@foodie-connector.delivery",
        "is_email_verified": false
    }
}
```
#### **Status Code: 409**

The email has already been taken.

**URI**: /api/v1/auth/register

**Request Body:**
```
{
    "email": "user@foodie-connector.delivery",
    "password": "test123456",
    "name": "Test User"
}
```

**Response Body:**
```
{
    "message": "The email has already been taken."
}
```
#### **Status Code: 422**

Validation failed.

**URI**: /api/v1/auth/register

**Request Body:**
```
{
    "email": "user@foodie-connector.delivery",
    "password": "short",
    "name": "Test User"
}
```

**Response Body:**
```
{
    "message": "Validation failed.",
    "data": {
        "password": [
            "The password must be a valid password."
        ]
    }
}
```

### **POST - /api/v1/auth/resend-verification-email**

Resend verification email

#### **Authorization**

Required

#### **Params**

No param

#### **Status Code: 200**

Successful operation.

**URI**: /api/v1/auth/resend-verification-email

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Response Header:**
```
{
    "X-RateLimit-Limit": 1,
    "X-RateLimit-Remaining": 0,
    "Retry-After": 60
}
```
#### **Status Code: 401**

This page requires authentication.

**URI**: /api/v1/auth/resend-verification-email

**Response Body:**
```
{
    "message": "This page requires authentication."
}
```
#### **Status Code: 403**

The email address is already verified.

**URI**: /api/v1/auth/resend-verification-email

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Response Body:**
```
{
    "message": "The email address is already verified."
}
```
#### **Status Code: 429**

Too many attempts

**URI**: /api/v1/auth/resend-verification-email

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Response Header:**
```
{
    "X-RateLimit-Limit": 1,
    "X-RateLimit-Remaining": 0,
    "Retry-After": 60
}
```

**Response Body:**
```
{
    "message": "Too many attempts"
}
```

### **POST - /api/v1/auth/reset-password**

Reset password

#### **Authorization**

Not required

#### **Params**

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |
| token | required | integer | digits:8 |
| email | required | email |  |
| password | required | string | min:6 |

#### **Status Code: 200**

Successful operation.

**URI**: /api/v1/auth/reset-password

**Request Body:**
```
{
    "email": "user@foodie-connector.delivery",
    "password": "new_password",
    "token": "12345678"
}
```
#### **Status Code: 401**

The password reset token is invalid or expired.

**URI**: /api/v1/auth/reset-password

**Request Body:**
```
{
    "email": "user@foodie-connector.delivery",
    "password": "new_password",
    "token": "12345678"
}
```

**Response Header:**
```
{
    "X-RateLimit-Limit": 5,
    "X-RateLimit-Remaining": 4
}
```

**Response Body:**
```
{
    "message": "The password reset token is invalid or expired."
}
```
#### **Status Code: 404**

We can't find a user with that e-mail address.

**URI**: /api/v1/auth/reset-password

**Request Body:**
```
{
    "email": "wrong@foodie-connector.delivery",
    "password": "new_password",
    "token": "12345678"
}
```

**Response Body:**
```
{
    "message": "We can't find a user with that e-mail address."
}
```
#### **Status Code: 422**

Validation failed.

**URI**: /api/v1/auth/reset-password

**Request Body:**
```
{
    "email": "user@foodie-connector.delivery"
}
```

**Response Body:**
```
{
    "message": "Validation failed.",
    "data": {
        "token": [
            "The token field is required."
        ],
        "password": [
            "The password field is required."
        ]
    }
}
```
#### **Status Code: 429**

Too many attempts

**URI**: /api/v1/auth/reset-password

**Request Body:**
```
{
    "email": "user@foodie-connector.delivery",
    "password": "new_password",
    "token": "12345678"
}
```

**Response Header:**
```
{
    "X-RateLimit-Limit": 5,
    "X-RateLimit-Remaining": 0,
    "Retry-After": 600
}
```

**Response Body:**
```
{
    "message": "Too many attempts"
}
```

### **POST - /api/v1/auth/reset-password-email**

Send email containing password reset link

#### **Authorization**

Not required

#### **Params**

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |
| email | required | email |  |

#### **Status Code: 200**

Successful operation.

**URI**: /api/v1/auth/reset-password-email

**Request Body:**
```
{
    "email": "user@foodie-connector.delivery"
}
```

**Response Header:**
```
{
    "X-RateLimit-Limit": 1,
    "X-RateLimit-Remaining": 0,
    "Retry-After": 60
}
```
#### **Status Code: 403**

The email address has not been verified

**URI**: /api/v1/auth/reset-password-email

**Request Body:**
```
{
    "email": "user@foodie-connector.delivery"
}
```

**Response Body:**
```
{
    "message": "The email address has not been verified"
}
```
#### **Status Code: 404**

We can't find a user with that e-mail address.

**URI**: /api/v1/auth/reset-password-email

**Request Body:**
```
{
    "email": "wrong@foodie-connector.delivery"
}
```

**Response Body:**
```
{
    "message": "We can't find a user with that e-mail address."
}
```
#### **Status Code: 422**

Validation failed.

**URI**: /api/v1/auth/reset-password-email

**Request Body:**
```
{
    "email": "not_email"
}
```

**Response Body:**
```
{
    "message": "Validation failed.",
    "data": {
        "email": [
            "The email must be a valid email address."
        ]
    }
}
```
#### **Status Code: 429**

Too many attempts

**URI**: /api/v1/auth/reset-password-email

**Request Body:**
```
{
    "email": "user@foodie-connector.delivery"
}
```

**Response Header:**
```
{
    "X-RateLimit-Limit": 1,
    "X-RateLimit-Remaining": 0,
    "Retry-After": 60
}
```

**Response Body:**
```
{
    "message": "Too many attempts"
}
```

### **POST - /api/v1/auth/verify-email**

Verify the email

#### **Authorization**

Not required

#### **Params**

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |
| token | required | string | max:255 |

#### **Status Code: 200**

Successful operation.

**URI**: /api/v1/auth/verify-email

**Request Body:**
```
{
    "token": "MjIxYmJiYzdmYzUyMmExZTc1OTMwMmQ4NThhNzZjNWM5MjgyNDVjMDhiNjU4MDkyODZmZGYwYTc1MzI2YWRhODE="
}
```
#### **Status Code: 401**

The email verification token is invalid or expired.

**URI**: /api/v1/auth/verify-email

**Request Body:**
```
{
    "token": "invalid_token"
}
```

**Response Body:**
```
{
    "message": "The email verification token is invalid or expired."
}
```
#### **Status Code: 422**

Validation failed.

**URI**: /api/v1/auth/verify-email

**Request Body:**
```
[]
```

**Response Body:**
```
{
    "message": "Validation failed.",
    "data": {
        "token": [
            "The token field is required."
        ]
    }
}
```

## **profile**

Everything about profile

### **GET - /api/v1/profile**

Get the profile

#### **Authorization**

Required

#### **Params**

No param

#### **Status Code: 200**

Successful operation.

**URI**: /api/v1/profile

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Response Body:**
```
{
    "name": "Test User",
    "email": "user@foodie-connector.delivery",
    "id": 1,
    "is_email_verified": false
}
```
#### **Status Code: 401**

This page requires authentication.

**URI**: /api/v1/profile

**Response Body:**
```
{
    "message": "This page requires authentication."
}
```

### **PUT - /api/v1/profile**

Update the profile

#### **Authorization**

Required

#### **Params**

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |
| name | optional | string | max:255 |

#### **Status Code: 200**

Successful operation.

**URI**: /api/v1/profile

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Request Body:**
```
{
    "name": "New Name"
}
```

**Response Body:**
```
{
    "name": "New Name",
    "email": "user@foodie-connector.delivery",
    "id": 1,
    "is_email_verified": false
}
```
#### **Status Code: 401**

This page requires authentication.

**URI**: /api/v1/profile

**Response Body:**
```
{
    "message": "This page requires authentication."
}
```
#### **Status Code: 422**

Validation failed.

**URI**: /api/v1/profile

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Request Body:**
```
{
    "name": "longlonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglonglong"
}
```

**Response Body:**
```
{
    "message": "Validation failed.",
    "data": {
        "name": [
            "The name may not be greater than 255 characters."
        ]
    }
}
```

### **PUT - /api/v1/profile/email**

Update the email address

#### **Authorization**

Required

#### **Params**

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |
| email | required | email | max:255, unique:api_users |

#### **Status Code: 200**

Successful operation.

**URI**: /api/v1/profile/email

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Request Body:**
```
{
    "email": "new@foodie-connector.delivery"
}
```

**Response Body:**
```
{
    "name": "Test User",
    "email": "new@foodie-connector.delivery",
    "id": 1,
    "is_email_verified": false
}
```
#### **Status Code: 401**

This page requires authentication.

**URI**: /api/v1/profile/email

**Response Body:**
```
{
    "message": "This page requires authentication."
}
```
#### **Status Code: 409**

The email has already been taken.

**URI**: /api/v1/profile/email

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Request Body:**
```
{
    "email": "exist@foodie-connector.delivery"
}
```

**Response Body:**
```
{
    "message": "The email has already been taken."
}
```
#### **Status Code: 422**

Validation failed.

**URI**: /api/v1/profile/email

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Request Body:**
```
{
    "email": "not_email"
}
```

**Response Body:**
```
{
    "message": "Validation failed.",
    "data": {
        "email": [
            "The email must be a valid email address."
        ]
    }
}
```

### **PUT - /api/v1/profile/password**

Change the password

#### **Authorization**

Required

#### **Params**

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |
| old_password | required | string |  |
| new_password | required | password |  |

#### **Status Code: 200**

Successful operation.

**URI**: /api/v1/profile/password

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Request Body:**
```
{
    "old_password": "test123456",
    "new_password": "new_password"
}
```
#### **Status Code: 401**

This page requires authentication.

**URI**: /api/v1/profile/password

**Response Body:**
```
{
    "message": "This page requires authentication."
}
```
#### **Status Code: 401**

The old password does not match our records.

**URI**: /api/v1/profile/password

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Request Body:**
```
{
    "old_password": "wrong",
    "new_password": "new_password"
}
```

**Response Body:**
```
{
    "message": "The old password does not match our records."
}
```
#### **Status Code: 422**

Validation failed.

**URI**: /api/v1/profile/password

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Request Body:**
```
{
    "old_password": "test123456",
    "new_password": "short"
}
```

**Response Body:**
```
{
    "message": "Validation failed.",
    "data": {
        "new_password": [
            "The new password must be a valid password."
        ]
    }
}
```

## **address**

Everything about address

### **GET - /api/v1/addresses**

Get a list of all addresses

#### **Authorization**

Required

#### **Params**

No param

#### **Status Code: 200**

Successful operation.

**URI**: /api/v1/addresses

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Response Body:**
```
[
    {
        "id": 4,
        "name": "Test User",
        "phone": "7653500000",
        "line_1": "134 Pierce Street",
        "line_2": "Apt XXX",
        "city": "West Lafayette",
        "state": "IN",
        "zip_code": "47906-5123",
        "place_id": "ChIJO_0IEK_iEogR4GrIyYopzz8",
        "is_default": false
    },
    {
        "id": 5,
        "name": "Test User",
        "phone": "7653500000",
        "line_1": "134 Pierce Street",
        "line_2": "Apt XXX",
        "city": "West Lafayette",
        "state": "IN",
        "zip_code": "47906-5123",
        "place_id": "ChIJO_0IEK_iEogR4GrIyYopzz8",
        "is_default": false
    }
]
```
#### **Status Code: 401**

This page requires authentication.

**URI**: /api/v1/addresses

**Response Body:**
```
{
    "message": "This page requires authentication."
}
```

### **POST - /api/v1/addresses**

Add a new address

#### **Authorization**

Required

#### **Params**

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |
| name | required | string | max:255 |
| phone | required | phone:US |  |
| line_1 | required | string | max:255 |
| line_2 | optional | string | max:255 |
| city | required | string | max:255 |
| state | required | string | max:255 |
| zip_code | required | zip_code |  |
| place_id | required | string | max:255 |
| is_default | required | boolean |  |

#### **Status Code: 200**

Successful operation.

**URI**: /api/v1/addresses

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Request Body:**
```
{
    "name": "Test User",
    "phone": "7653500000",
    "line_1": "134 Pierce Street",
    "line_2": "Apt XXX",
    "city": "West Lafayette",
    "state": "IN",
    "zip_code": "47906-5123",
    "place_id": "ChIJO_0IEK_iEogR4GrIyYopzz8",
    "is_default": true
}
```

**Response Body:**
```
{
    "name": "Test User",
    "phone": "7653500000",
    "line_1": "134 Pierce Street",
    "line_2": "Apt XXX",
    "city": "West Lafayette",
    "state": "IN",
    "zip_code": "47906-5123",
    "place_id": "ChIJO_0IEK_iEogR4GrIyYopzz8",
    "id": 1,
    "is_default": true
}
```
#### **Status Code: 401**

This page requires authentication.

**URI**: /api/v1/addresses

**Response Body:**
```
{
    "message": "This page requires authentication."
}
```
#### **Status Code: 422**

Validation failed.

**URI**: /api/v1/addresses

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Request Body:**
```
{
    "name": "Test User",
    "phone": "invalid_phone",
    "line_1": "134 Pierce Street",
    "line_2": "Apt XXX",
    "city": "West Lafayette",
    "state": "IN",
    "zip_code": "47906-5123",
    "place_id": "ChIJO_0IEK_iEogR4GrIyYopzz8",
    "is_default": true
}
```

**Response Body:**
```
{
    "message": "Validation failed.",
    "data": {
        "phone": [
            "The phone must be a phone number."
        ]
    }
}
```

### **GET - /api/v1/addresses/{id}**

Show detail of a specific address

#### **Authorization**

Required

#### **Params**

No param

#### **Status Code: 200**

Successful operation.

**URI**: /api/v1/addresses/1

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Response Body:**
```
{
    "id": 1,
    "name": "Test User",
    "phone": "7653500000",
    "line_1": "134 Pierce Street",
    "line_2": "Apt XXX",
    "city": "West Lafayette",
    "state": "IN",
    "zip_code": "47906-5123",
    "place_id": "ChIJO_0IEK_iEogR4GrIyYopzz8",
    "is_default": false
}
```
#### **Status Code: 401**

This page requires authentication.

**URI**: /api/v1/addresses/1

**Response Body:**
```
{
    "message": "This page requires authentication."
}
```
#### **Status Code: 404**

Resource not found.

**URI**: /api/v1/addresses/0

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Response Body:**
```
{
    "message": "Resource not found."
}
```

### **PUT - /api/v1/addresses/{id}**

Updating an existed address

#### **Authorization**

Required

#### **Params**

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |
| name | optional | string | max:255 |
| phone | optional | phone:US |  |
| line_1 | optional | string | max:255 |
| line_2 | optional | string | max:255 |
| city | optional | string | max:255 |
| state | optional | string | max:255 |
| zip_code | optional | zip_code |  |
| place_id | optional | string | max:255 |
| is_default | optional | boolean |  |

#### **Status Code: 200**

Successful operation.

**URI**: /api/v1/addresses/1

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Request Body:**
```
{
    "name": "Changed Name",
    "is_default": true
}
```

**Response Body:**
```
{
    "id": 1,
    "name": "Changed Name",
    "phone": "7653500000",
    "line_1": "134 Pierce Street",
    "line_2": "Apt XXX",
    "city": "West Lafayette",
    "state": "IN",
    "zip_code": "47906-5123",
    "place_id": "ChIJO_0IEK_iEogR4GrIyYopzz8",
    "is_default": true
}
```
#### **Status Code: 401**

This page requires authentication.

**URI**: /api/v1/addresses/1

**Response Body:**
```
{
    "message": "This page requires authentication."
}
```
#### **Status Code: 404**

Resource not found.

**URI**: /api/v1/addresses/0

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Request Body:**
```
{
    "name": "Changed Name"
}
```

**Response Body:**
```
{
    "message": "Resource not found."
}
```
#### **Status Code: 422**

Validation failed.

**URI**: /api/v1/addresses/2

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Request Body:**
```
{
    "phone": "invalid_phone"
}
```

**Response Body:**
```
{
    "message": "Validation failed.",
    "data": {
        "phone": [
            "The phone must be a phone number."
        ]
    }
}
```

### **DELETE - /api/v1/addresses/{id}**

Delete an existed address

#### **Authorization**

Required

#### **Params**

No param

#### **Status Code: 200**

Successful operation.

**URI**: /api/v1/addresses/1

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```
#### **Status Code: 401**

This page requires authentication.

**URI**: /api/v1/addresses/1

**Response Body:**
```
{
    "message": "This page requires authentication."
}
```
#### **Status Code: 404**

Resource not found.

**URI**: /api/v1/addresses/0

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Response Body:**
```
{
    "message": "Resource not found."
}
```

## **card**

Everything about card

### **GET - /api/v1/cards**

Get the card list

#### **Authorization**

Required

#### **Params**

No param

#### **Status Code: 200**

Successful operation.

**URI**: /api/v1/cards

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Response Body:**
```
[
    {
        "id": 4,
        "nickname": "Test Visa",
        "brand": "Visa",
        "last_four": "4242",
        "expiration_month": "12",
        "expiration_year": "2030",
        "zip_code": "47906",
        "is_default": false
    },
    {
        "id": 5,
        "nickname": "Test Visa",
        "brand": "Visa",
        "last_four": "4242",
        "expiration_month": "12",
        "expiration_year": "2030",
        "zip_code": "47906",
        "is_default": false
    }
]
```
#### **Status Code: 401**

This page requires authentication.

**URI**: /api/v1/cards

**Response Body:**
```
{
    "message": "This page requires authentication."
}
```

### **POST - /api/v1/cards**

Add a new card

#### **Authorization**

Required

#### **Params**

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |
| nickname | required | string | max:255 |
| token | required | string | max:255 |
| is_default | required | boolean |  |

#### **Status Code: 200**

Successful operation.

**URI**: /api/v1/cards

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Request Body:**
```
{
    "nickname": "Test Visa",
    "token": "tok_L0l2TZ715VLoMA",
    "is_default": false
}
```

**Response Body:**
```
{
    "nickname": "Test Visa",
    "brand": "Visa",
    "last_four": "4242",
    "expiration_month": 12,
    "expiration_year": 2030,
    "zip_code": "47906",
    "id": 1,
    "is_default": true
}
```
#### **Status Code: 401**

This page requires authentication.

**URI**: /api/v1/cards

**Response Body:**
```
{
    "message": "This page requires authentication."
}
```
#### **Status Code: 422**

Validation Failed.

**URI**: /api/v1/cards

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Request Body:**
```
{
    "nickname": "Test Visa",
    "token": "not_token",
    "is_default": false
}
```

**Response Body:**
```
{
    "message": "Validation Failed.",
    "data": {
        "token": [
            "The stripe token is invalid."
        ]
    }
}
```
#### **Status Code: 422**

Validation failed.

**URI**: /api/v1/cards

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Request Body:**
```
[]
```

**Response Body:**
```
{
    "message": "Validation failed.",
    "data": {
        "nickname": [
            "The nickname field is required."
        ],
        "token": [
            "The token field is required."
        ],
        "is_default": [
            "The is default field is required."
        ]
    }
}
```

### **GET - /api/v1/cards/{id}**

Show detail of a specific card

#### **Authorization**

Required

#### **Params**

No param

#### **Status Code: 200**

Successful operation.

**URI**: /api/v1/cards/1

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Response Body:**
```
{
    "id": 1,
    "nickname": "Test Visa",
    "brand": "Visa",
    "last_four": "4242",
    "expiration_month": "12",
    "expiration_year": "2030",
    "zip_code": "47906",
    "is_default": false
}
```
#### **Status Code: 401**

This page requires authentication.

**URI**: /api/v1/cards/1

**Response Body:**
```
{
    "message": "This page requires authentication."
}
```
#### **Status Code: 404**

Resource not found.

**URI**: /api/v1/cards/0

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Response Body:**
```
{
    "message": "Resource not found."
}
```

### **PUT - /api/v1/cards/{id}**

Update an existed card

#### **Authorization**

Required

#### **Params**

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |
| nickname | optional | string | max:255 |
| expiration_month | optional | integer | between:1,12 |
| expiration_year | optional | integer | digits:4 |
| zip_code | optional | integer | nullable |
| is_default | optional | boolean |  |

#### **Status Code: 200**

Successful operation.

**URI**: /api/v1/cards/1

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Request Body:**
```
{
    "zip_code": "47907",
    "is_default": true
}
```

**Response Body:**
```
{
    "id": 1,
    "nickname": "Test Visa",
    "brand": "Visa",
    "last_four": "4242",
    "expiration_month": "12",
    "expiration_year": "2030",
    "zip_code": "47907",
    "is_default": true
}
```
#### **Status Code: 401**

This page requires authentication.

**URI**: /api/v1/cards/1

**Response Body:**
```
{
    "message": "This page requires authentication."
}
```
#### **Status Code: 404**

Resource not found.

**URI**: /api/v1/cards/0

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Response Body:**
```
{
    "message": "Resource not found."
}
```
#### **Status Code: 422**

Validation Failed

**URI**: /api/v1/cards/1

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Request Body:**
```
{
    "expiration_month": 1,
    "expiration_year": 2018
}
```

**Response Body:**
```
{
    "message": "Validation Failed",
    "data": {
        "expiration_month": [
            "The expiration_month must be a current or future month."
        ]
    }
}
```

### **DELETE - /api/v1/cards/{id}**

Delete an existed card

#### **Authorization**

Required

#### **Params**

No param

#### **Status Code: 200**

Successful operation.

**URI**: /api/v1/cards/1

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```
#### **Status Code: 401**

This page requires authentication.

**URI**: /api/v1/cards/1

**Response Body:**
```
{
    "message": "This page requires authentication."
}
```
#### **Status Code: 404**

Resource not found.

**URI**: /api/v1/cards/0

**Request Header:**
```
Authorization: ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=
```

**Response Body:**
```
{
    "message": "Resource not found."
}
```


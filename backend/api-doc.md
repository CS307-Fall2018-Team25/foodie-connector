# Foodie Connector API Doc

This doc is automatically generated by scripts.

## **authentication**

Everything about authentication

### **POST - /api/v1/auth/login**

Login

#### Authorization

Not required

#### Params

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |
| email | required | email |  |
| password | required | string |  |

#### Status Code: 200

Successful operation

Request: /api/v1/auth/login
```
{
    "email": "user@foodie-connector.delivery",
    "password": "test123456"
}
```

Response:
```
{
    "api_token": "ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=",
    "user": {
        "id": 1,
        "name": "Test User",
        "email": "user@foodie-connector.delivery",
        "email_verified_at": null,
        "default_address": null
    }
}
```
#### Status Code: 401

These credentials do not match our records.

Request: /api/v1/auth/login
```
{
    "email": "wrong@foodie-connector.delivery",
    "password": "test123456"
}
```

Response:
```
{
    "message": "These credentials do not match our records."
}
```
#### Status Code: 422

Validation failed.

Request: /api/v1/auth/login
```
{
    "email": "user@foodie-connector.delivery"
}
```

Response:
```
{
    "message": "Validation failed.",
    "information": {
        "password": [
            "The password field is required."
        ]
    }
}
```
#### Status Code: 429

Too many attempts

Request: /api/v1/auth/login
```
{
    "email": "user@foodie-connector.delivery",
    "password": "test123456"
}
```

Response:
```
{
    "message": "Too many attempts",
    "information": {
        "available_seconds": 60
    }
}
```

### **POST - /api/v1/auth/register**

Register for a new user

#### Authorization

Not required

#### Params

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |
| name | required | string | max:255 |
| email | required | email | max:255, unique:api_users |
| password | required | string | min:6 |

#### Status Code: 200

Successful operation

Request: /api/v1/auth/register
```
{
    "email": "user@foodie-connector.delivery",
    "password": "test123456",
    "name": "Test User"
}
```

Response:
```
{
    "api_token": "ZGVlNDI2YTU5MWVkYTExNTRiMWFhNTdiN2U4NDE0NTVjZDdlYmM1Y2RhZjRhNGU5ODA0NDQxNDkxMWJhNzcxMTE=",
    "user": {
        "id": 1,
        "name": "Test User",
        "email": "user@foodie-connector.delivery",
        "email_verified_at": null,
        "default_address": null
    }
}
```
#### Status Code: 409

The email has already been taken.

Request: /api/v1/auth/register
```
{
    "email": "user@foodie-connector.delivery",
    "password": "test123456",
    "name": "Test User"
}
```

Response:
```
{
    "message": "The email has already been taken."
}
```
#### Status Code: 422

Validation failed.

Request: /api/v1/auth/register
```
{
    "email": "user@foodie-connector.delivery",
    "password": "short",
    "name": "Test User"
}
```

Response:
```
{
    "message": "Validation failed.",
    "information": {
        "password": [
            "The password must be at least 6 characters."
        ]
    }
}
```

### **POST - /api/v1/auth/reset-password**

Reset password

#### Authorization

Not required

#### Params

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |
| token | required | integer | between:0,99999999 |
| email | required | email |  |
| password | required | string | min:6 |

#### Status Code: 200

Successful operation

Request: /api/v1/auth/reset-password
```
{
    "email": "user@foodie-connector.delivery",
    "password": "new_password",
    "token": "12345678"
}
```

Response:
```
[]
```
#### Status Code: 401

The password reset token is invalid or expired

Request: /api/v1/auth/reset-password
```
{
    "email": "user@foodie-connector.delivery",
    "password": "new_password",
    "token": "12345678"
}
```

Response:
```
{
    "message": "The password reset token is invalid or expired"
}
```
#### Status Code: 404

We can't find a user with that e-mail address.

Request: /api/v1/auth/reset-password
```
{
    "email": "wrong@foodie-connector.delivery",
    "password": "new_password",
    "token": "12345678"
}
```

Response:
```
{
    "message": "We can't find a user with that e-mail address."
}
```
#### Status Code: 422

Validation failed.

Request: /api/v1/auth/reset-password
```
{
    "email": "user@foodie-connector.delivery"
}
```

Response:
```
{
    "message": "Validation failed.",
    "information": {
        "token": [
            "The token field is required."
        ],
        "password": [
            "The password field is required."
        ]
    }
}
```

### **POST - /api/v1/auth/reset-password-email**

Send email containing password reset link

#### Authorization

Not required

#### Params

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |
| email | required | email |  |

#### Status Code: 200

Successful operation

Request: /api/v1/auth/reset-password-email
```
{
    "email": "user@foodie-connector.delivery"
}
```

Response:
```
[]
```
#### Status Code: 404

We can't find a user with that e-mail address.

Request: /api/v1/auth/reset-password-email
```
{
    "email": "wrong@foodie-connector.delivery"
}
```

Response:
```
{
    "message": "We can't find a user with that e-mail address."
}
```
#### Status Code: 422

Validation failed.

Request: /api/v1/auth/reset-password-email
```
{
    "email": "not_email"
}
```

Response:
```
{
    "message": "Validation failed.",
    "information": {
        "email": [
            "The email must be a valid email address."
        ]
    }
}
```

## **address**

Everything about address

### **GET - /api/v1/addresses**

Get a list of all addresses

#### Authorization

Required

#### Params

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |

#### Status Code: 200

Successful operation

Request: /api/v1/addresses
```
[]
```

Response:
```
[
    {
        "id": 1,
        "name": "Test User",
        "phone": "7653500000",
        "line_1": "134 Pierce Street",
        "line_2": "Apt XXX",
        "city": "West Lafayette",
        "state": "IN",
        "zip_code": "47906-5123",
        "place_id": "ChIJO_0IEK_iEogR4GrIyYopzz8",
        "is_default": false
    },
    {
        "id": 2,
        "name": "Test User",
        "phone": "7653500000",
        "line_1": "134 Pierce Street",
        "line_2": "Apt XXX",
        "city": "West Lafayette",
        "state": "IN",
        "zip_code": "47906-5123",
        "place_id": "ChIJO_0IEK_iEogR4GrIyYopzz8",
        "is_default": false
    }
]
```
#### Status Code: 401

This page requires authentication.

Request: /api/v1/addresses
```
[]
```

Response:
```
{
    "message": "This page requires authentication."
}
```

### **POST - /api/v1/addresses**

Add a new address

#### Authorization

Required

#### Params

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |
| name | required | string | max:255 |
| phone | required | phone:US |  |
| line_1 | required | string | max:255 |
| line_2 | optional | string | max:255 |
| city | required | string | max:255 |
| state | required | string | max:255 |
| zip_code | required | zip_code |  |
| place_id | required | string | max:255 |
| is_default | required | boolean |  |

#### Status Code: 200

Successful operation

Request: /api/v1/addresses
```
{
    "name": "Test User",
    "phone": "7653500000",
    "line_1": "134 Pierce Street",
    "line_2": "Apt XXX",
    "city": "West Lafayette",
    "state": "IN",
    "zip_code": "47906-5123",
    "place_id": "ChIJO_0IEK_iEogR4GrIyYopzz8",
    "is_default": false
}
```

Response:
```
{
    "name": "Test User",
    "phone": "7653500000",
    "line_1": "134 Pierce Street",
    "line_2": "Apt XXX",
    "city": "West Lafayette",
    "state": "IN",
    "zip_code": "47906-5123",
    "place_id": "ChIJO_0IEK_iEogR4GrIyYopzz8",
    "id": 1,
    "is_default": true
}
```
#### Status Code: 401

This page requires authentication.

Request: /api/v1/addresses
```
{
    "name": "Test User",
    "phone": "7653500000",
    "line_1": "134 Pierce Street",
    "line_2": "Apt XXX",
    "city": "West Lafayette",
    "state": "IN",
    "zip_code": "47906-5123",
    "place_id": "ChIJO_0IEK_iEogR4GrIyYopzz8",
    "is_default": false
}
```

Response:
```
{
    "message": "This page requires authentication."
}
```
#### Status Code: 422

Validation failed.

Request: /api/v1/addresses
```
{
    "name": "Test User",
    "phone": "invalid_phone",
    "line_1": "134 Pierce Street",
    "line_2": "Apt XXX",
    "city": "West Lafayette",
    "state": "IN",
    "zip_code": "47906-5123",
    "place_id": "ChIJO_0IEK_iEogR4GrIyYopzz8",
    "is_default": true
}
```

Response:
```
{
    "message": "Validation failed.",
    "information": {
        "phone": [
            "The phone must be a phone number."
        ]
    }
}
```

### **PUT - /api/v1/addresses/{id}**

Updating an existed address

#### Authorization

Required

#### Params

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |
| name | optional | string | max:255 |
| phone | optional | phone:US |  |
| line_1 | optional | string | max:255 |
| line_2 | optional | string | max:255 |
| city | optional | string | max:255 |
| state | optional | string | max:255 |
| zip_code | optional | zip_code |  |
| place_id | optional | string | max:255 |
| is_default | optional | boolean |  |

#### Status Code: 200

Successful operation

Request: /api/v1/addresses/1
```
{
    "name": "Changed Name",
    "is_default": true
}
```

Response:
```
{
    "id": 1,
    "name": "Changed Name",
    "phone": "7653500000",
    "line_1": "134 Pierce Street",
    "line_2": "Apt XXX",
    "city": "West Lafayette",
    "state": "IN",
    "zip_code": "47906-5123",
    "place_id": "ChIJO_0IEK_iEogR4GrIyYopzz8",
    "is_default": true
}
```
#### Status Code: 401

This page requires authentication.

Request: /api/v1/addresses/1
```
{
    "name": "Changed Name"
}
```

Response:
```
{
    "message": "This page requires authentication."
}
```
#### Status Code: 422

Validation failed.

Request: /api/v1/addresses/1
```
{
    "phone": "invalid_phone"
}
```

Response:
```
{
    "message": "Validation failed.",
    "information": {
        "phone": [
            "The phone must be a phone number."
        ]
    }
}
```

### **DELETE - /api/v1/addresses/{id}**

Delete an existed address

#### Authorization

Required

#### Params

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |

#### Status Code: 200

Successful operation

Request: /api/v1/addresses/1
```
[]
```

Response:
```
[]
```
#### Status Code: 401

This page requires authentication.

Request: /api/v1/addresses/1
```
[]
```

Response:
```
{
    "message": "This page requires authentication."
}
```
#### Status Code: 404

Resource not found.

Request: /api/v1/addresses/0
```
[]
```

Response:
```
{
    "message": "Resource not found."
}
```


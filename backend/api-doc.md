# Foodie Connector API Doc

This doc is automatically generated by scripts.

## **authentication**

Everything about authentication

### **POST - /api/v1/auth/login**

Login

#### Params

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |
| email | required | email |  |
| password | required | string |  |

#### Status Code: 200

Successful operation

Request:
```
{
    "email": "user@foodie-connector.delivery",
    "password": "test123456"
}
```

Response:
```
{
    "api_token": "ZWFmOTdjNTA1NWUyOGE5ZjViNjJjODExNWJmMTNhMmU0Y2FhMTM0YmFhYzdlYTJiODY3YmI0OWM5MWRkMTU0MDE=",
    "user": {
        "id": 1,
        "name": "Test User",
        "email": "user@foodie-connector.delivery",
        "email_verified_at": null,
        "default_address": null
    }
}
```
#### Status Code: 401

These credentials do not match our records.

Request:
```
{
    "email": "wrong@foodie-connector.delivery",
    "password": "test123456"
}
```

Response:
```
{
    "message": "These credentials do not match our records."
}
```
#### Status Code: 422

Validation failed.

Request:
```
{
    "email": "user@foodie-connector.delivery"
}
```

Response:
```
{
    "message": "Validation failed.",
    "information": {
        "password": [
            "The password field is required."
        ]
    }
}
```
#### Status Code: 429

Too many attempts

Request:
```
{
    "email": "user@foodie-connector.delivery",
    "password": "test123456"
}
```

Response:
```
{
    "message": "Too many attempts",
    "information": {
        "available_seconds": 60
    }
}
```

### **POST - /api/v1/auth/register**

Register for a new user

#### Params

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |
| name | required | string | max:255 |
| email | required | email | max:255, unique:api_users |
| password | required | string | min:6 |

#### Status Code: 200

Successful operation

Request:
```
{
    "email": "user@foodie-connector.delivery",
    "password": "test123456",
    "name": "Test User"
}
```

Response:
```
{
    "api_token": "MGE2YWRjNzFmMTM4N2RhYzQ0M2Y3ZWQ1MTQ1NWZmODRiYWViZWFmOWEyM2UwNWQwYWZiY2EyMDA0NTE0NDQ4OTE=",
    "user": {
        "id": 1,
        "name": "Test User",
        "email": "user@foodie-connector.delivery",
        "email_verified_at": null,
        "default_address": null
    }
}
```
#### Status Code: 409

The email has already been taken.

Request:
```
{
    "email": "user@foodie-connector.delivery",
    "password": "test123456",
    "name": "Test User"
}
```

Response:
```
{
    "message": "The email has already been taken."
}
```
#### Status Code: 422

Validation failed.

Request:
```
{
    "email": "user@foodie-connector.delivery",
    "password": "short",
    "name": "Test User"
}
```

Response:
```
{
    "message": "Validation failed.",
    "information": {
        "password": [
            "The password must be at least 6 characters."
        ]
    }
}
```

### **POST - /api/v1/auth/reset-password**

Reset password

#### Params

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |
| token | required | integer | between:0,99999999 |
| email | required | email |  |
| password | required | string | min:6 |

#### Status Code: 200

Successful operation

Request:
```
{
    "email": "user@foodie-connector.delivery",
    "password": "new_password",
    "token": "12345678"
}
```

Response:
```
[]
```
#### Status Code: 401

The password reset token is invalid or expired

Request:
```
{
    "email": "user@foodie-connector.delivery",
    "password": "new_password",
    "token": "12345678"
}
```

Response:
```
{
    "message": "The password reset token is invalid or expired"
}
```
#### Status Code: 404

We can't find a user with that e-mail address.

Request:
```
{
    "email": "wrong@foodie-connector.delivery",
    "password": "new_password",
    "token": "12345678"
}
```

Response:
```
{
    "message": "We can't find a user with that e-mail address."
}
```
#### Status Code: 422

Validation failed.

Request:
```
{
    "email": "user@foodie-connector.delivery"
}
```

Response:
```
{
    "message": "Validation failed.",
    "information": {
        "token": [
            "The token field is required."
        ],
        "password": [
            "The password field is required."
        ]
    }
}
```

### **POST - /api/v1/auth/reset-password-email**

Send email containing password reset link

#### Params

| Key | Required | Type | Extra |
| :--- | :--- | :--- | :--- |
| email | required | email |  |

#### Status Code: 200

Successful operation

Request:
```
{
    "email": "user@foodie-connector.delivery"
}
```

Response:
```
[]
```
#### Status Code: 404

We can't find a user with that e-mail address.

Request:
```
{
    "email": "wrong@foodie-connector.delivery"
}
```

Response:
```
{
    "message": "We can't find a user with that e-mail address."
}
```
#### Status Code: 422

Validation failed.

Request:
```
{
    "email": "not_email"
}
```

Response:
```
{
    "message": "Validation failed.",
    "information": {
        "email": [
            "The email must be a valid email address."
        ]
    }
}
```

